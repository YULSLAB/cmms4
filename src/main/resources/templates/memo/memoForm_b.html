<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/defaultLayout}">
<head>
    <title>메모 등록/수정</title>
    <th:block layout:fragment="page-css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <style>
            .form-label { font-weight: 500; }
            .form-control:focus { border-color: #80bdff; box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); }
            .btn-primary { margin-right: 5px; }
        </style>
    </th:block>
</head>
<body>
    <div layout:fragment="content">
        <div class="container-fluid">
            <div class="row mb-3">
                <div class="col">
                    <a th:href="@{/memo/memoList}" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> 목록으로
                    </a>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0" th:text="${memo != null ? '메모 수정' : '메모 등록'}"></h5>
                        </div>
                        <div class="card-body">
                            <form th:action="@{/memo/memoSave}" method="post" th:object="${memo}">
                                <input type="hidden" name="memoId" th:value="${memo?.memoId}">
                                <input type="hidden" name="companyId" th:value="${memo?.companyId}">
                                <input type="hidden" name="siteId" th:value="${memo?.siteId}">
                                <input type="hidden" name="createBy" th:value="${memo?.createBy}">
                                <input type="hidden" name="createDate" th:value="${memo?.createDate}">
                                <input type="hidden" name="viewCount" th:value="${memo?.viewCount}">

                                <div class="mb-3">
                                    <label for="memoName" class="form-label">제목</label>
                                    <input type="text" class="form-control" id="memoName" name="memoName" 
                                           th:value="${memo?.memoName}" required>
                                </div>

                                <div class="mb-3">
                                    <label for="note" class="form-label">내용</label>
                                    <textarea class="form-control" id="note" name="note" rows="5" 
                                              th:text="${memo?.note}" required></textarea>
                                </div>

                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="isPinned" name="isPinned" 
                                               th:checked="${memo?.isPinned == 'Y'}" value="Y">
                                        <label class="form-check-label" for="isPinned">
                                            상단 고정
                                        </label>
                                    </div>
                                </div>

                                <div class="text-end">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> 저장
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
